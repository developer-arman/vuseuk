/*! Copyright 2026 Adobe
All Rights Reserved. */
var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(q){return q&&q.__esModule&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q}var Et={exports:{}};/*! algoliasearch.umd.js | 4.25.3 | Â© Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(q,R){(function(k,_){q.exports=_()})(sr,function(){function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_(Object(r),!0).forEach(function(n){k(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I(t,e){if(t==null)return{};var r,n,a=function(c,f){if(c==null)return{};var u,s,d={},l=Object.keys(c);for(s=0;s<l.length;s++)u=l[s],f.indexOf(u)>=0||(d[u]=c[u]);return d}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function N(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var a=[],i=!0,c=!1,f=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done)&&(a.push(u.value),!n||a.length!==n);i=!0);}catch(d){c=!0,f=d}finally{try{i||s.return==null||s.return()}finally{if(c)throw f}}return a}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(t){return function(e){if(Array.isArray(e)){for(var r=0,n=new Array(e.length);r<e.length;r++)n[r]=e[r];return n}}(t)||function(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ct(t){var e,r="algoliasearch-client-js-".concat(t.key),n=function(){return e===void 0&&(e=t.localStorage||window.localStorage),e},a=function(){return JSON.parse(n().getItem(r)||"{}")},i=function(f){n().setItem(r,JSON.stringify(f))},c=function(){var f=t.timeToLive?1e3*t.timeToLive:null,u=a(),s=Object.fromEntries(Object.entries(u).filter(function(l){return N(l,2)[1].timestamp!==void 0}));if(i(s),f){var d=Object.fromEntries(Object.entries(s).filter(function(l){var h=N(l,2)[1],g=new Date().getTime();return!(h.timestamp+f<g)}));i(d)}};return{get:function(f,u){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){c();var d=JSON.stringify(f);return a()[d]}).then(function(d){return Promise.all([d?d.value:u(),d!==void 0])}).then(function(d){var l=N(d,2),h=l[0],g=l[1];return Promise.all([h,g||s.miss(h)])}).then(function(d){return N(d,1)[0]})},set:function(f,u){return Promise.resolve().then(function(){var s=a();return s[JSON.stringify(f)]={timestamp:new Date().getTime(),value:u},n().setItem(r,JSON.stringify(s)),u})},delete:function(f){return Promise.resolve().then(function(){var u=a();delete u[JSON.stringify(f)],n().setItem(r,JSON.stringify(u))})},clear:function(){return Promise.resolve().then(function(){n().removeItem(r)})}}}function M(t){var e=K(t.caches),r=e.shift();return r===void 0?{get:function(n,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},c=a();return c.then(function(f){return Promise.all([f,i.miss(f)])}).then(function(f){return N(f,1)[0]})},set:function(n,a){return Promise.resolve(a)},delete:function(n){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(n,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(n,a,i).catch(function(){return M({caches:e}).get(n,a,i)})},set:function(n,a){return r.set(n,a).catch(function(){return M({caches:e}).set(n,a)})},delete:function(n){return r.delete(n).catch(function(){return M({caches:e}).delete(n)})},clear:function(){return r.clear().catch(function(){return M({caches:e}).clear()})}}}function et(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},e={};return{get:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},i=JSON.stringify(r);if(i in e)return Promise.resolve(t.serializable?JSON.parse(e[i]):e[i]);var c=n(),f=a&&a.miss||function(){return Promise.resolve()};return c.then(function(u){return f(u)}).then(function(){return c})},set:function(r,n){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear:function(){return e={},Promise.resolve()}}}function V(t,e,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":e};return{headers:function(){return t===F.WithinHeaders?n:{}},queryParameters:function(){return t===F.WithinQueryParameters?n:{}}}}function z(t){var e=0;return t(function r(){return e++,new Promise(function(n){setTimeout(function(){n(t(r))},Math.min(100*e,1e3))})})}function b(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,n){return Promise.resolve()};return Object.assign(t,{wait:function(r){return b(t.then(function(n){return Promise.all([e(n,r),n])}).then(function(n){return n[1]}))}})}function Ut(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}function X(t,e){return e&&Object.keys(e).forEach(function(r){t[r]=e[r](t)}),t}function m(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=0;return t.replace(/%s/g,function(){return encodeURIComponent(r[a++])})}var F={WithinQueryParameters:0,WithinHeaders:1};function T(t,e){var r=t||{},n=r.data||{};return Object.keys(r).forEach(function(a){["timeout","headers","queryParameters","data","cacheable"].indexOf(a)===-1&&(n[a]=r[a])}),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||e,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var C={Read:1,Write:2,Any:3},lt=1,zt=2,ht=3;function pt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt;return o(o({},t),{},{status:e,lastUpdate:Date.now()})}function mt(t){return typeof t=="string"?{protocol:"https",url:t,accept:C.Any}:{protocol:t.protocol||"https",url:t.url,accept:t.accept||C.Any}}var J="DELETE",P="GET",y="POST",rt="PUT";function Ft(t,e){return Promise.all(e.map(function(r){return t.get(r,function(){return Promise.resolve(pt(r))})})).then(function(r){var n=r.filter(function(c){return function(f){return f.status===lt||Date.now()-f.lastUpdate>12e4}(c)}),a=r.filter(function(c){return function(f){return f.status===ht&&Date.now()-f.lastUpdate<=12e4}(c)}),i=[].concat(K(n),K(a));return{getTimeout:function(c,f){return(a.length===0&&c===0?1:a.length+3+c)*f},statelessHosts:i.length>0?i.map(function(c){return mt(c)}):e}})}function gt(t,e,r,n){var a=[],i=function(h,g){if(!(h.method===P||h.data===void 0&&g.data===void 0)){var p=Array.isArray(h.data)?h.data:o(o({},h.data),g.data);return JSON.stringify(p)}}(r,n),c=function(h,g){var p=o(o({},h.headers),g.headers),v={};return Object.keys(p).forEach(function(w){var x=p[w];v[w.toLowerCase()]=x}),v}(t,n),f=r.method,u=r.method!==P?{}:o(o({},r.data),n.data),s=o(o(o({"x-algolia-agent":t.userAgent.value},t.queryParameters),u),n.queryParameters),d=0,l=function h(g,p){var v=g.pop();if(v===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:vt(a)};var w={data:i,headers:c,method:f,url:Ht(v,r.path,s),connectTimeout:p(d,t.timeouts.connect),responseTimeout:p(d,n.timeout)},x=function(D){var j={request:w,response:D,host:v,triesLeft:g.length};return a.push(j),j},L={onSuccess:function(D){return function(j){try{return JSON.parse(j.content)}catch(U){throw function(E,W){return{name:"DeserializationError",message:E,response:W}}(U.message,j)}}(D)},onRetry:function(D){var j=x(D);return D.isTimedOut&&d++,Promise.all([t.logger.info("Retryable failure",bt(j)),t.hostsCache.set(v,pt(v,D.isTimedOut?ht:zt))]).then(function(){return h(g,p)})},onFail:function(D){throw x(D),function(j,U){var E=j.content,W=j.status,Q=E;try{Q=JSON.parse(E).message}catch{}return function(tt,ct,ur){return{name:"ApiError",message:tt,status:ct,transporterStackTrace:ur}}(Q,W,U)}(D,vt(a))}};return t.requester.send(w).then(function(D){return function(j,U){return function(E){var W=E.status;return E.isTimedOut||function(Q){var tt=Q.isTimedOut,ct=Q.status;return!tt&&~~ct==0}(E)||~~(W/100)!=2&&~~(W/100)!=4}(j)?U.onRetry(j):~~(j.status/100)==2?U.onSuccess(j):U.onFail(j)}(D,L)})};return Ft(t.hostsCache,e).then(function(h){return l(K(h.statelessHosts).reverse(),h.getTimeout)})}function Y(t){var e=t.hostsCache,r=t.logger,n=t.requester,a=t.requestsCache,i=t.responsesCache,c=t.timeouts,f=t.userAgent,u=t.hosts,s=t.queryParameters,d={hostsCache:e,logger:r,requester:n,requestsCache:a,responsesCache:i,timeouts:c,userAgent:f,headers:t.headers,queryParameters:s,hosts:u.map(function(l){return mt(l)}),read:function(l,h){var g=T(h,d.timeouts.read),p=function(){return gt(d,d.hosts.filter(function(w){return(w.accept&C.Read)!=0}),l,g)};if((g.cacheable!==void 0?g.cacheable:l.cacheable)!==!0)return p();var v={request:l,mappedRequestOptions:g,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(v,function(){return d.requestsCache.get(v,function(){return d.requestsCache.set(v,p()).then(function(w){return Promise.all([d.requestsCache.delete(v),w])},function(w){return Promise.all([d.requestsCache.delete(v),Promise.reject(w)])}).then(function(w){var x=N(w,2);return x[0],x[1]})})},{miss:function(w){return d.responsesCache.set(v,w)}})},write:function(l,h){return gt(d,d.hosts.filter(function(g){return(g.accept&C.Write)!=0}),l,T(h,d.timeouts.write))}};return d}function Jt(t){var e={value:"Algolia for JavaScript (".concat(t,")"),add:function(r){var n="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return e.value.indexOf(n)===-1&&(e.value="".concat(e.value).concat(n)),e}};return e}function Ht(t,e,r){var n=yt(r),a="".concat(t.protocol,"://").concat(t.url,"/").concat(e.charAt(0)==="/"?e.substr(1):e);return n.length&&(a+="?".concat(n)),a}function yt(t){return Object.keys(t).map(function(e){return m("%s=%s",e,(r=t[e],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(t[e]):t[e]));var r}).join("&")}function vt(t){return t.map(function(e){return bt(e)})}function bt(t){var e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return o(o({},t),{},{request:o(o({},t.request),{},{headers:o(o({},t.request.headers),e)})})}var Wt=function(t){return function(e,r){return t.transporter.write({method:y,path:"2/abtests",data:e},r)}},Kt=function(t){return function(e,r){return t.transporter.write({method:J,path:m("2/abtests/%s",e)},r)}},Mt=function(t){return function(e,r){return t.transporter.read({method:P,path:m("2/abtests/%s",e)},r)}},Gt=function(t){return function(e){return t.transporter.read({method:P,path:"2/abtests"},e)}},Bt=function(t){return function(e,r){return t.transporter.write({method:y,path:m("2/abtests/%s/stop",e)},r)}},Lt=function(t){return function(e){return t.transporter.read({method:P,path:"1/strategies/personalization"},e)}},Qt=function(t){return function(e,r){return t.transporter.write({method:y,path:"1/strategies/personalization",data:e},r)}};function nt(t){return function e(r){return t.request(r).then(function(n){if(t.batch!==void 0&&t.batch(n.hits),!t.shouldStop(n))return n.cursor?e({cursor:n.cursor}):e({page:(r.page||0)+1})})}({})}var _t=function(t){return function(e,r){var n=r||{},a=n.queryParameters,i=I(n,["queryParameters"]),c=o({acl:e},a!==void 0?{queryParameters:a}:{});return b(t.transporter.write({method:y,path:"1/keys",data:c},i),function(f,u){return z(function(s){return G(t)(f.key,u).catch(function(d){if(d.status!==404)throw d;return s()})})})}},Vt=function(t){return function(e,r,n){var a=T(n);return a.queryParameters["X-Algolia-User-ID"]=e,t.transporter.write({method:y,path:"1/clusters/mapping",data:{cluster:r}},a)}},Xt=function(t){return function(e,r,n){return t.transporter.write({method:y,path:"1/clusters/mapping/batch",data:{users:e,cluster:r}},n)}},Yt=function(t){return function(e,r){return b(t.transporter.write({method:y,path:m("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(n,a){return H(t)(n.taskID,a)})}},Z=function(t){return function(e,r,n){return b(t.transporter.write({method:y,path:m("1/indexes/%s/operation",e),data:{operation:"copy",destination:r}},n),function(a,i){return B(t)(e,{methods:{waitTask:O}}).waitTask(a.taskID,i)})}},Zt=function(t){return function(e,r,n){return Z(t)(e,r,o(o({},n),{},{scope:[st.Rules]}))}},$t=function(t){return function(e,r,n){return Z(t)(e,r,o(o({},n),{},{scope:[st.Settings]}))}},te=function(t){return function(e,r,n){return Z(t)(e,r,o(o({},n),{},{scope:[st.Synonyms]}))}},ee=function(t){return function(e,r){return e.method===P?t.transporter.read(e,r):t.transporter.write(e,r)}},re=function(t){return function(e,r){return b(t.transporter.write({method:J,path:m("1/keys/%s",e)},r),function(n,a){return z(function(i){return G(t)(e,a).then(i).catch(function(c){if(c.status!==404)throw c})})})}},ne=function(t){return function(e,r,n){var a=r.map(function(i){return{action:"deleteEntry",body:{objectID:i}}});return b(t.transporter.write({method:y,path:m("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!1,requests:a}},n),function(i,c){return H(t)(i.taskID,c)})}},G=function(t){return function(e,r){return t.transporter.read({method:P,path:m("1/keys/%s",e)},r)}},wt=function(t){return function(e,r){return t.transporter.read({method:P,path:m("1/task/%s",e.toString())},r)}},ae=function(t){return function(e){return t.transporter.read({method:P,path:"/1/dictionaries/*/settings"},e)}},oe=function(t){return function(e){return t.transporter.read({method:P,path:"1/logs"},e)}},ie=function(t){return function(e){return t.transporter.read({method:P,path:"1/clusters/mapping/top"},e)}},ue=function(t){return function(e,r){return t.transporter.read({method:P,path:m("1/clusters/mapping/%s",e)},r)}},se=function(t){return function(e){var r=e||{},n=r.retrieveMappings,a=I(r,["retrieveMappings"]);return n===!0&&(a.getClusters=!0),t.transporter.read({method:P,path:"1/clusters/mapping/pending"},a)}},B=function(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={transporter:t.transporter,appId:t.appId,indexName:e};return X(n,r.methods)}},ce=function(t){return function(e){return t.transporter.read({method:P,path:"1/keys"},e)}},fe=function(t){return function(e){return t.transporter.read({method:P,path:"1/clusters"},e)}},de=function(t){return function(e){return t.transporter.read({method:P,path:"1/indexes"},e)}},le=function(t){return function(e){return t.transporter.read({method:P,path:"1/clusters/mapping"},e)}},he=function(t){return function(e,r,n){return b(t.transporter.write({method:y,path:m("1/indexes/%s/operation",e),data:{operation:"move",destination:r}},n),function(a,i){return B(t)(e,{methods:{waitTask:O}}).waitTask(a.taskID,i)})}},pe=function(t){return function(e,r){return b(t.transporter.write({method:y,path:"1/indexes/*/batch",data:{requests:e}},r),function(n,a){return Promise.all(Object.keys(n.taskID).map(function(i){return B(t)(i,{methods:{waitTask:O}}).waitTask(n.taskID[i],a)}))})}},me=function(t){return function(e,r){return t.transporter.read({method:y,path:"1/indexes/*/objects",data:{requests:e}},r)}},Pt=function(t){return function(e,r){var n=e.map(function(a){return o(o({},a),{},{params:yt(a.params||{})})});return t.transporter.read({method:y,path:"1/indexes/*/queries",data:{requests:n},cacheable:!0},r)}},Ot=function(t){return function(e,r){return Promise.all(e.map(function(n){var a=n.params,i=a.facetName,c=a.facetQuery,f=I(a,["facetName","facetQuery"]);return B(t)(n.indexName,{methods:{searchForFacetValues:kt}}).searchForFacetValues(i,c,o(o({},r),f))}))}},ge=function(t){return function(e,r){var n=T(r);return n.queryParameters["X-Algolia-User-ID"]=e,t.transporter.write({method:J,path:"1/clusters/mapping"},n)}},ye=function(t){return function(e,r,n){var a=r.map(function(i){return{action:"addEntry",body:i}});return b(t.transporter.write({method:y,path:m("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!0,requests:a}},n),function(i,c){return H(t)(i.taskID,c)})}},ve=function(t){return function(e,r){return b(t.transporter.write({method:y,path:m("1/keys/%s/restore",e)},r),function(n,a){return z(function(i){return G(t)(e,a).catch(function(c){if(c.status!==404)throw c;return i()})})})}},be=function(t){return function(e,r,n){var a=r.map(function(i){return{action:"addEntry",body:i}});return b(t.transporter.write({method:y,path:m("/1/dictionaries/%s/batch",e),data:{clearExistingDictionaryEntries:!1,requests:a}},n),function(i,c){return H(t)(i.taskID,c)})}},we=function(t){return function(e,r,n){return t.transporter.read({method:y,path:m("/1/dictionaries/%s/search",e),data:{query:r},cacheable:!0},n)}},Pe=function(t){return function(e,r){return t.transporter.read({method:y,path:"1/clusters/mapping/search",data:{query:e}},r)}},Oe=function(t){return function(e,r){return b(t.transporter.write({method:rt,path:"/1/dictionaries/*/settings",data:e},r),function(n,a){return H(t)(n.taskID,a)})}},Ie=function(t){return function(e,r){var n=Object.assign({},r),a=r||{},i=a.queryParameters,c=I(a,["queryParameters"]),f=i?{queryParameters:i}:{},u=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return b(t.transporter.write({method:rt,path:m("1/keys/%s",e),data:f},c),function(s,d){return z(function(l){return G(t)(e,d).then(function(h){return function(g){return Object.keys(n).filter(function(p){return u.indexOf(p)!==-1}).every(function(p){if(Array.isArray(g[p])&&Array.isArray(n[p])){var v=g[p];return v.length===n[p].length&&v.every(function(w,x){return w===n[p][x]})}return g[p]===n[p]})}(h)?Promise.resolve():l()})})})}},H=function(t){return function(e,r){return z(function(n){return wt(t)(e,r).then(function(a){return a.status!=="published"?n():void 0})})}},It=function(t){return function(e,r){return b(t.transporter.write({method:y,path:m("1/indexes/%s/batch",t.indexName),data:{requests:e}},r),function(n,a){return O(t)(n.taskID,a)})}},xe=function(t){return function(e){return nt(o(o({shouldStop:function(r){return r.cursor===void 0}},e),{},{request:function(r){return t.transporter.read({method:y,path:m("1/indexes/%s/browse",t.indexName),data:r},e)}}))}},je=function(t){return function(e){var r=o({hitsPerPage:1e3},e);return nt(o(o({shouldStop:function(n){return n.hits.length<r.hitsPerPage}},r),{},{request:function(n){return St(t)("",o(o({},r),n)).then(function(a){return o(o({},a),{},{hits:a.hits.map(function(i){return delete i._highlightResult,i})})})}}))}},qe=function(t){return function(e){var r=o({hitsPerPage:1e3},e);return nt(o(o({shouldStop:function(n){return n.hits.length<r.hitsPerPage}},r),{},{request:function(n){return Nt(t)("",o(o({},r),n)).then(function(a){return o(o({},a),{},{hits:a.hits.map(function(i){return delete i._highlightResult,i})})})}}))}},at=function(t){return function(e,r,n){var a=n||{},i=a.batchSize,c=I(a,["batchSize"]),f={taskIDs:[],objectIDs:[]};return b(function u(){var s,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=[];for(s=d;s<e.length&&(l.push(e[s]),l.length!==(i||1e3));s++);return l.length===0?Promise.resolve(f):It(t)(l.map(function(h){return{action:r,body:h}}),c).then(function(h){return f.objectIDs=f.objectIDs.concat(h.objectIDs),f.taskIDs.push(h.taskID),s++,u(s)})}(),function(u,s){return Promise.all(u.taskIDs.map(function(d){return O(t)(d,s)}))})}},De=function(t){return function(e){return b(t.transporter.write({method:y,path:m("1/indexes/%s/clear",t.indexName)},e),function(r,n){return O(t)(r.taskID,n)})}},Te=function(t){return function(e){var r=e||{},n=r.forwardToReplicas,a=T(I(r,["forwardToReplicas"]));return n&&(a.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:y,path:m("1/indexes/%s/rules/clear",t.indexName)},a),function(i,c){return O(t)(i.taskID,c)})}},ke=function(t){return function(e){var r=e||{},n=r.forwardToReplicas,a=T(I(r,["forwardToReplicas"]));return n&&(a.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:y,path:m("1/indexes/%s/synonyms/clear",t.indexName)},a),function(i,c){return O(t)(i.taskID,c)})}},Se=function(t){return function(e,r){return b(t.transporter.write({method:y,path:m("1/indexes/%s/deleteByQuery",t.indexName),data:e},r),function(n,a){return O(t)(n.taskID,a)})}},xt=function(t){return function(e){return b(t.transporter.write({method:J,path:m("1/indexes/%s",t.indexName)},e),function(r,n){return O(t)(r.taskID,n)})}},Ne=function(t){return function(e,r){return b(jt(t)([e],r).then(function(n){return{taskID:n.taskIDs[0]}}),function(n,a){return O(t)(n.taskID,a)})}},jt=function(t){return function(e,r){var n=e.map(function(a){return{objectID:a}});return at(t)(n,S.DeleteObject,r)}},Ae=function(t){return function(e,r){var n=r||{},a=n.forwardToReplicas,i=T(I(n,["forwardToReplicas"]));return a&&(i.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:J,path:m("1/indexes/%s/rules/%s",t.indexName,e)},i),function(c,f){return O(t)(c.taskID,f)})}},Ee=function(t){return function(e,r){var n=r||{},a=n.forwardToReplicas,i=T(I(n,["forwardToReplicas"]));return a&&(i.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:J,path:m("1/indexes/%s/synonyms/%s",t.indexName,e)},i),function(c,f){return O(t)(c.taskID,f)})}},Re=function(t){return function(e){return qt(t)(e).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},Ce=function(t){return function(e,r,n){return t.transporter.read({method:y,path:m("1/answers/%s/prediction",t.indexName),data:{query:e,queryLanguages:r},cacheable:!0},n)}},Ue=function(t){return function(e,r){var n=r||{},a=n.query,i=n.paginate,c=I(n,["query","paginate"]),f=0;return function u(){return Tt(t)(a||"",o(o({},c),{},{page:f})).then(function(s){for(var d=0,l=Object.entries(s.hits);d<l.length;d++){var h=N(l[d],2),g=h[0],p=h[1];if(e(p))return{object:p,position:parseInt(g,10),page:f}}if(f++,i===!1||f>=s.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return u()})}()}},ze=function(t){return function(e,r){return t.transporter.read({method:P,path:m("1/indexes/%s/%s",t.indexName,e)},r)}},Fe=function(){return function(t,e){for(var r=0,n=Object.entries(t.hits);r<n.length;r++){var a=N(n[r],2),i=a[0];if(a[1].objectID===e)return parseInt(i,10)}return-1}},Je=function(t){return function(e,r){var n=r||{},a=n.attributesToRetrieve,i=I(n,["attributesToRetrieve"]),c=e.map(function(f){return o({indexName:t.indexName,objectID:f},a?{attributesToRetrieve:a}:{})});return t.transporter.read({method:y,path:"1/indexes/*/objects",data:{requests:c}},i)}},He=function(t){return function(e,r){return t.transporter.read({method:P,path:m("1/indexes/%s/rules/%s",t.indexName,e)},r)}},qt=function(t){return function(e){return t.transporter.read({method:P,path:m("1/indexes/%s/settings",t.indexName),data:{getVersion:2}},e)}},We=function(t){return function(e,r){return t.transporter.read({method:P,path:m("1/indexes/%s/synonyms/%s",t.indexName,e)},r)}},Ke=function(t){return function(e,r){return b(Dt(t)([e],r).then(function(n){return{objectID:n.objectIDs[0],taskID:n.taskIDs[0]}}),function(n,a){return O(t)(n.taskID,a)})}},Dt=function(t){return function(e,r){var n=r||{},a=n.createIfNotExists,i=I(n,["createIfNotExists"]),c=a?S.PartialUpdateObject:S.PartialUpdateObjectNoCreate;return at(t)(e,c,i)}},Me=function(t){return function(e,r){var n=r||{},a=n.safe,i=n.autoGenerateObjectIDIfNotExist,c=n.batchSize,f=I(n,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),u=function(p,v,w,x){return b(t.transporter.write({method:y,path:m("1/indexes/%s/operation",p),data:{operation:w,destination:v}},x),function(L,D){return O(t)(L.taskID,D)})},s=Math.random().toString(36).substring(7),d="".concat(t.indexName,"_tmp_").concat(s),l=ot({appId:t.appId,transporter:t.transporter,indexName:d}),h=[],g=u(t.indexName,d,"copy",o(o({},f),{},{scope:["settings","synonyms","rules"]}));return h.push(g),b((a?g.wait(f):g).then(function(){var p=l(e,o(o({},f),{},{autoGenerateObjectIDIfNotExist:i,batchSize:c}));return h.push(p),a?p.wait(f):p}).then(function(){var p=u(d,t.indexName,"move",f);return h.push(p),a?p.wait(f):p}).then(function(){return Promise.all(h)}).then(function(p){var v=N(p,3),w=v[0],x=v[1],L=v[2];return{objectIDs:x.objectIDs,taskIDs:[w.taskID].concat(K(x.taskIDs),[L.taskID])}}).catch(function(p){return xt({appId:t.appId,transporter:t.transporter,indexName:d})().catch(function(){}).then(function(){throw p})}),function(p,v){return Promise.all(h.map(function(w){return w.wait(v)}))})}},Ge=function(t){return function(e,r){return it(t)(e,o(o({},r),{},{clearExistingRules:!0}))}},Be=function(t){return function(e,r){return ut(t)(e,o(o({},r),{},{clearExistingSynonyms:!0}))}},Le=function(t){return function(e,r){return b(ot(t)([e],r).then(function(n){return{objectID:n.objectIDs[0],taskID:n.taskIDs[0]}}),function(n,a){return O(t)(n.taskID,a)})}},ot=function(t){return function(e,r){var n=r||{},a=n.autoGenerateObjectIDIfNotExist,i=I(n,["autoGenerateObjectIDIfNotExist"]),c=a?S.AddObject:S.UpdateObject;if(c===S.UpdateObject){var f=!0,u=!1,s=void 0;try{for(var d,l=e[Symbol.iterator]();!(f=(d=l.next()).done);f=!0)if(d.value.objectID===void 0)return b(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(h){u=!0,s=h}finally{try{f||l.return==null||l.return()}finally{if(u)throw s}}}return at(t)(e,c,i)}},Qe=function(t){return function(e,r){return it(t)([e],r)}},it=function(t){return function(e,r){var n=r||{},a=n.forwardToReplicas,i=n.clearExistingRules,c=T(I(n,["forwardToReplicas","clearExistingRules"]));return a&&(c.queryParameters.forwardToReplicas=1),i&&(c.queryParameters.clearExistingRules=1),b(t.transporter.write({method:y,path:m("1/indexes/%s/rules/batch",t.indexName),data:e},c),function(f,u){return O(t)(f.taskID,u)})}},_e=function(t){return function(e,r){return ut(t)([e],r)}},ut=function(t){return function(e,r){var n=r||{},a=n.forwardToReplicas,i=n.clearExistingSynonyms,c=n.replaceExistingSynonyms,f=T(I(n,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return a&&(f.queryParameters.forwardToReplicas=1),(c||i)&&(f.queryParameters.replaceExistingSynonyms=1),b(t.transporter.write({method:y,path:m("1/indexes/%s/synonyms/batch",t.indexName),data:e},f),function(u,s){return O(t)(u.taskID,s)})}},Tt=function(t){return function(e,r){return t.transporter.read({method:y,path:m("1/indexes/%s/query",t.indexName),data:{query:e},cacheable:!0},r)}},kt=function(t){return function(e,r,n){return t.transporter.read({method:y,path:m("1/indexes/%s/facets/%s/query",t.indexName,e),data:{facetQuery:r},cacheable:!0},n)}},St=function(t){return function(e,r){return t.transporter.read({method:y,path:m("1/indexes/%s/rules/search",t.indexName),data:{query:e}},r)}},Nt=function(t){return function(e,r){return t.transporter.read({method:y,path:m("1/indexes/%s/synonyms/search",t.indexName),data:{query:e}},r)}},Ve=function(t){return function(e,r){var n=r||{},a=n.forwardToReplicas,i=T(I(n,["forwardToReplicas"]));return a&&(i.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:rt,path:m("1/indexes/%s/settings",t.indexName),data:e},i),function(c,f){return O(t)(c.taskID,f)})}},O=function(t){return function(e,r){return z(function(n){return function(a){return function(i,c){return a.transporter.read({method:P,path:m("1/indexes/%s/task/%s",a.indexName,i.toString())},c)}}(t)(e,r).then(function(a){return a.status!=="published"?n():void 0})})}},S={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},st={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Xe=1,Ye=2,Ze=3,$=function(t){return function(e,r){var n=e.map(function(a){return o(o({},a),{},{threshold:a.threshold||0})});return t.transporter.read({method:y,path:"1/indexes/*/recommendations",data:{requests:n},cacheable:!0},r)}},$e=function(t){return function(e,r){return $(t)(e.map(function(n){return o(o({},n),{},{fallbackParameters:{},model:"bought-together"})}),r)}},tr=function(t){return function(e,r){return $(t)(e.map(function(n){return o(o({},n),{},{model:"related-products"})}),r)}},er=function(t){return function(e,r){var n=e.map(function(a){return o(o({},a),{},{model:"trending-facets",threshold:a.threshold||0})});return t.transporter.read({method:y,path:"1/indexes/*/recommendations",data:{requests:n},cacheable:!0},r)}},rr=function(t){return function(e,r){var n=e.map(function(a){return o(o({},a),{},{model:"trending-items",threshold:a.threshold||0})});return t.transporter.read({method:y,path:"1/indexes/*/recommendations",data:{requests:n},cacheable:!0},r)}},nr=function(t){return function(e,r){return $(t)(e.map(function(n){return o(o({},n),{},{model:"looking-similar"})}),r)}},ar=function(t){return function(e,r){var n=e.map(function(a){return o(o({},a),{},{model:"recommended-for-you",threshold:a.threshold||0})});return t.transporter.read({method:y,path:"1/indexes/*/recommendations",data:{requests:n},cacheable:!0},r)}};function or(t,e){return function(r,n){if(!e)throw A("`options.transformation.region` must be provided at client instantiation before calling this method.");var a=n||{},i=a.autoGenerateObjectIDIfNotExist,c=a.watch,f=I(a,["autoGenerateObjectIDIfNotExist","watch"]),u=i?S.AddObject:S.UpdateObject;return e.push({indexName:t,pushTaskPayload:{action:u,records:r},watch:c},f)}}function ir(t,e){return function(r,n){if(!e)throw A("`options.transformation.region` must be provided at client instantiation before calling this method.");var a=n||{},i=a.createIfNotExists,c=a.watch,f=I(a,["createIfNotExists","watch"]),u=i?S.PartialUpdateObject:S.PartialUpdateObjectNoCreate;return e.push({indexName:t,pushTaskPayload:{action:u,records:r},watch:c},f)}}function A(t){return{name:"TransformationConfigurationError",message:t}}function At(t,e,r){var n,a,i={appId:t,apiKey:e,timeouts:{connect:1,read:2,write:30},requester:{send:function(u){return new Promise(function(s){var d=new XMLHttpRequest;d.open(u.method,u.url,!0),Object.keys(u.headers).forEach(function(p){return d.setRequestHeader(p,u.headers[p])});var l,h=function(p,v){return setTimeout(function(){d.abort(),s({status:0,content:v,isTimedOut:!0})},1e3*p)},g=h(u.connectTimeout,"Connection timeout");d.onreadystatechange=function(){d.readyState>d.OPENED&&l===void 0&&(clearTimeout(g),l=h(u.responseTimeout,"Socket timeout"))},d.onerror=function(){d.status===0&&(clearTimeout(g),clearTimeout(l),s({content:d.responseText||"Network request failed",status:d.status,isTimedOut:!1}))},d.onload=function(){clearTimeout(g),clearTimeout(l),s({content:d.responseText,status:d.status,isTimedOut:!1})},d.send(u.data)})}},logger:(n=Ze,{debug:function(u,s){return Xe>=n&&console.debug(u,s),Promise.resolve()},info:function(u,s){return Ye>=n&&console.info(u,s),Promise.resolve()},error:function(u,s){return console.error(u,s),Promise.resolve()}}),responsesCache:et(),requestsCache:et({serializable:!1}),hostsCache:M({caches:[Ct({key:"".concat("4.25.3","-").concat(t)}),et()]}),userAgent:Jt("4.25.3").add({segment:"Browser"})},c=o(o({},i),r),f=function(){return function(u){return function(s){var d=s.region||"us",l=V(F.WithinHeaders,s.appId,s.apiKey),h=Y(o(o({hosts:[{url:"personalization.".concat(d,".algolia.com")}]},s),{},{headers:o(o(o({},l.headers()),{"content-type":"application/json"}),s.headers),queryParameters:o(o({},l.queryParameters()),s.queryParameters)}));return X({appId:s.appId,transporter:h},s.methods)}(o(o(o({},i),u),{},{methods:{getPersonalizationStrategy:Lt,setPersonalizationStrategy:Qt}}))}};if(r&&r.transformation){if(!r.transformation.region)throw A("`region` must be provided when leveraging the transformation pipeline");a=function(u){if(!u||!u.transformation||!u.transformation.region)throw A("`region` must be provided when leveraging the transformation pipeline");if(u.transformation.region!=="eu"&&u.transformation.region!=="us")throw A("`region` is required and must be one of the following: eu, us");var s=u.appId,d=V(F.WithinHeaders,s,u.apiKey),l=Y(o(o({hosts:[{url:"data.".concat(u.transformation.region,".algolia.com"),accept:C.ReadWrite,protocol:"https"}]},u),{},{headers:o(o(o({},d.headers()),{"content-type":"text/plain"}),u.headers),queryParameters:o(o({},d.queryParameters()),u.queryParameters)}));return{transporter:l,appId:s,addAlgoliaAgent:function(h,g){l.userAgent.add({segment:h,version:g}),l.userAgent.add({segment:"Ingestion",version:g}),l.userAgent.add({segment:"Ingestion via Algoliasearch"})},clearCache:function(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(function(){})},push:function(h,g){var p=h.indexName,v=h.pushTaskPayload,w=h.watch;if(!p)throw A("Parameter `indexName` is required when calling `push`.");if(!v)throw A("Parameter `pushTaskPayload` is required when calling `push`.");if(!v.action)throw A("Parameter `pushTaskPayload.action` is required when calling `push`.");if(!v.records)throw A("Parameter `pushTaskPayload.records` is required when calling `push`.");var x=g||{queryParameters:{}};return l.write({method:y,path:m("1/push/%s",p),data:v},o(o({},x),{},{queryParameters:o(o({},x.queryParameters),{},{watch:w!==void 0})}))}}}(o(o({},r),i))}return function(u){var s=u.appId,d=V(u.authMode!==void 0?u.authMode:F.WithinHeaders,s,u.apiKey),l=Y(o(o({hosts:[{url:"".concat(s,"-dsn.algolia.net"),accept:C.Read},{url:"".concat(s,".algolia.net"),accept:C.Write}].concat(Ut([{url:"".concat(s,"-1.algolianet.com")},{url:"".concat(s,"-2.algolianet.com")},{url:"".concat(s,"-3.algolianet.com")}]))},u),{},{headers:o(o(o({},d.headers()),{"content-type":"application/x-www-form-urlencoded"}),u.headers),queryParameters:o(o({},d.queryParameters()),u.queryParameters)}));return X({transporter:l,appId:s,addAlgoliaAgent:function(h,g){l.userAgent.add({segment:h,version:g})},clearCache:function(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(function(){})}},u.methods)}(o(o({},c),{},{methods:{search:Pt,searchForFacetValues:Ot,multipleBatch:pe,multipleGetObjects:me,multipleQueries:Pt,copyIndex:Z,copySettings:$t,copySynonyms:te,copyRules:Zt,moveIndex:he,listIndices:de,getLogs:oe,listClusters:fe,multipleSearchForFacetValues:Ot,getApiKey:G,addApiKey:_t,listApiKeys:ce,updateApiKey:Ie,deleteApiKey:re,restoreApiKey:ve,assignUserID:Vt,assignUserIDs:Xt,getUserID:ue,searchUserIDs:Pe,listUserIDs:le,getTopUserIDs:ie,removeUserID:ge,hasPendingMappings:se,clearDictionaryEntries:Yt,deleteDictionaryEntries:ne,getDictionarySettings:ae,getAppTask:wt,replaceDictionaryEntries:ye,saveDictionaryEntries:be,searchDictionaryEntries:we,setDictionarySettings:Oe,waitAppTask:H,customRequest:ee,initIndex:function(u){return function(s){return o(o({},B(u)(s,{methods:{batch:It,delete:xt,findAnswers:Ce,getObject:ze,getObjects:Je,saveObject:Le,saveObjects:ot,search:Tt,searchForFacetValues:kt,waitTask:O,setSettings:Ve,getSettings:qt,partialUpdateObject:Ke,partialUpdateObjects:Dt,deleteObject:Ne,deleteObjects:jt,deleteBy:Se,clearObjects:De,browseObjects:xe,getObjectPosition:Fe,findObject:Ue,exists:Re,saveSynonym:_e,saveSynonyms:ut,getSynonym:We,searchSynonyms:Nt,browseSynonyms:qe,deleteSynonym:Ee,clearSynonyms:ke,replaceAllObjects:Me,replaceAllSynonyms:Be,searchRules:St,getRule:He,deleteRule:Ae,saveRule:Qe,saveRules:it,replaceAllRules:Ge,browseRules:je,clearRules:Te}})),{},{saveObjectsWithTransformation:or(s,a),partialUpdateObjectsWithTransformation:ir(s,a)})}},initAnalytics:function(){return function(u){return function(s){var d=s.region||"us",l=V(F.WithinHeaders,s.appId,s.apiKey),h=Y(o(o({hosts:[{url:"analytics.".concat(d,".algolia.com")}]},s),{},{headers:o(o(o({},l.headers()),{"content-type":"application/json"}),s.headers),queryParameters:o(o({},l.queryParameters()),s.queryParameters)}));return X({appId:s.appId,transporter:h},s.methods)}(o(o(o({},i),u),{},{methods:{addABTest:Wt,getABTest:Mt,getABTests:Gt,stopABTest:Bt,deleteABTest:Kt}}))}},initPersonalization:f,initRecommendation:function(){return function(u){return c.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),f()(u)}},getRecommendations:$,getFrequentlyBoughtTogether:$e,getLookingSimilar:nr,getRecommendedForYou:ar,getRelatedProducts:tr,getTrendingFacets:er,getTrendingItems:rr}}))}return At.version="4.25.3",At})})(Et);var fr=Et.exports;const dr=cr(fr);let ft=null,dt=null,Rt=null;const lr=q=>{Rt=q,ft=dr(q.applicationId,q.apiKey),dt=ft.initIndex(q.indexName)},hr=async(q,R)=>{if(!ft||!dt)throw new Error("Algolia client not initialized. Call initializeAlgolia first.");if(!q.trim())return{results:[],nbHits:0,hitsPerPage:10,page:0};try{const k=await dt.search(q,{hitsPerPage:(R==null?void 0:R.hitsPerPage)||10,page:(R==null?void 0:R.page)||0});return{results:k.hits||[],nbHits:k.nbHits||0,hitsPerPage:k.hitsPerPage||10,page:k.page||0}}catch(k){throw console.error("Algolia search error:",k),k}},pr=()=>Rt;export{pr as g,lr as i,hr as s};
//# sourceMappingURL=algoliaApi.js.map
